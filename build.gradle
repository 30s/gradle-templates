apply plugin: "groovy"
apply plugin: "idea"

version = 0.5
group = 'gradle-templates'

repositories {
    mavenCentral()
}

dependencies {
    compile gradleApi()
    groovy localGroovy()
    testCompile 'junit:junit:4.8.2'
}

jar {
   baseName = 'templates'
}

task('install-plugin', type: Copy, dependsOn: 'build') {
	def gradleInstallDir = gradle.gradleHomeDir
   group = "installation"
   description = "Installs the plugin jar in your gradle distribution."
   from "${buildDir}/libs/templates-${version}.jar"
   into "/${gradleInstallDir}/lib/plugins"
   println "Plugin installed in: ${gradleInstallDir}/lib/plugins"
}

task('uninstall-plugin', type: Delete) {
	def gradleInstallDir = gradle.gradleHomeDir
   group = "installation"
   description = "Removes the plugin from your gradle distribution."
   delete("/${gradleInstallDir}/lib/plugins/templates-${version}.jar")
}